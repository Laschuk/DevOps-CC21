DevOps-CC21
==============

Домашні завдання по курсу DevOps-CC21 - <a href="mailto:fomindn@gmail.com" title="fomindn@gmail.com">Fomin Dmytro</a>

## Зміст
+ [Загальний опис](#ZagOpys);
+ [Завдання 1 - Docker](#Docker);
+ [Завдання 2 - Jenkins](#Jenkins);
+ [Завдання 3 - Kubernetes](#Kubernetes);
+ [Завдання 4 - Terraform](#Terraform).

## <a name="ZagOpys"></a>Загальний опис

При виконанні домашніх робіт з курсу DevOps Crash course була розроблена структура ка талогів - для кожного завдання окрема директорія та відповідно своя гілка Git:

 + 01.Docker     , t01-docker
 + 02.Jenkins    , t02-jenkins
 + 03.Kubernetes , t03-kubernetes
 + 04.Terraform  , t04-terraform

Така організація коду проекту дозволяє чітко відслідковувати в якому саме завданні були виконанні зміни та залиті в GitHub репозиторій, після якого спрацьовує webhook, який викликає необхідну послідовність дій для даного завдання.
Основною гілкою для даного проекту є 'dev' і в неї відбувається повне злиття коду із усіх гілок підзадач. Тому повний код проекту можливо продивитись виключно в даній гілці.
Для відновлення корректної роботи проекту після злиття з іншими репозиторіями, необхідно відновити всі необхідні гілки Git для підзадач і чітко вносити зміни у відповідній гілці.

## <a name="Docker"></a>Завдання 1 - Docker
----------------------------------------------

Для корректної роботи коду першого завдання, попередньо необхідно створити папку "01.Docker/.env/", а в ній створити три файли зі змінними оточення:
#### joomla.env
```
JOOMLA_DB_NAME=<data base name>
JOOMLA_DB_USER=<data base user name>
JOOMLA_DB_PASSWORD=<data base user password>
```
#### mysql.env
```
MYSQL_ROOT_PASSWORD=<data base ROOT user password>
MYSQL_USER=<data base user name>
MYSQL_PASSWORD=<data base user password>
```
#### pma.env
```
MYSQL_ROOT_PASSWORD=<data base ROOT user password>
```
Папка "HowTo" слугує записником як виконанувався проект та містить файли по підзадачах. Файли оформленні у вигляді bash-скриптів, тому команди з файлів .howto можна виконувати у терміналі.

Файл bash-скрипт joomla-docker.sh  слугує для зручного та швидкого виконання дій (Build, Up, Down) над контейнерами (mysql-db, pma, joomla) докер проекту web-сервера з CMS Joomla з використанням файлу joomla-docker-compose.yml


## <a name="Jenkins"></a>Завдання 2 - Jenkins
----------------------------------------------
Реалізація завдання №2 складається з двох підзадач - побудова образу докер з Jenkins та побудова образів докер складових Web-сервера: MySQL, phpMyAdmin та CMS Joomla. Для реалізації першої підзадачі створена гілка Git t02-jenkins.

#### Опис призначення директорій
```
02.Jenkins
    jenkins
        howto                       - слугує записником як виконанувався проект та містить файли по підзадачах
        jobs                        - містить експортовані в форматі XML файли задач, що виконуються в Jenkins
        ssh-key                     - сгенеровані приватний та публічний SSH ключі для доступу до GitHub
        ssl                         - сгенерований самопідписаний сертифікат для забезпечення роботи HTTPS протоколу
        Dockerfile                  - для побудови образа докер з Jenkins
        jenkins-cli.jar             - командна оболонка CLI Jenkins
        jenkins-docker-compose.yml  - файл-інструкція для docker-compose по збиранню та запуску Jenkins
        Jenkinsfile                 - файл Jenkins конвейєра по автоматизованій зборці образа докер з Jenkins та 
                                      збереженні у Docker Hub
        plugins.txt                 - файл з переліком усіх встановлених плагинів Jenkins в алфавітному порядку для 
                                      автоматичного встановлення у нові зборки Jenkins
    joomla-webs
        .env                        - директорія файлів із змінними оточення для сервісів веб-сервера
        Dockerfiles                 - Dockerfile файли для побудови образів докер контейнерів із службами веб-сервера
        Jenkinsfile                 - файл-скрипт для конвейєра Jenkins, що будує образи докер контейнерів веб-сервера,
                                      завантажує їх у сховище Docker Hub, та запускає в робочому середовищі.
        joomla-docker-compose.sh    - bash-скрипт запуску та зупинки контейнерів Докер із службами Веб-сервера, що 
                                      використовує для своєї роботи файл joomla-docker-compose.yml
        joomla-docker-compose.yml   - YAML-файл інструкція для docker-compose для побудови та запуску Докер контейнерів
                                      із службами Веб-сервера
        joomla-docker.sh            - bash-скрипт для запуску та запунки контейнерів Докер із сервісами Веб-сервера.
                                      Приймає у якості вхідного параметра значення, що визначає виконуєму дію скриптом:
                                        1 - Запуск контейнерів
                                        2 - Зупинка контейнерів
                                        q - вихід без відпрацювання скрипта
                                      Якщо вхідний параметр не заданий, він запрошується в користувача до вводу.
    ngrok
        howto                       - слугує записником як виконанувався проект та містить файли по підзадачах
    jenkins-docker.sh               - скрипт побудови, запуску та зупинки Jenkins на базі docker-compose файлу
```


## <a name="Kubernetes"></a>Завдання 3 - Kubernetes
----------------------------------------------------

## <a name="Terraform"></a>Завдання 4 - Terraform
--------------------------------------------------


 
